<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>ADMIN ‚Äì CHIVATS BLACK</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:sans-serif;
  background:#111;
  color:#fff;
}
.container{
  max-width:420px;
  margin:60px auto;
  padding:20px;
}
.hidden{ display:none; }

input,button{
  width:100%;
  padding:12px;
  margin:10px 0;
  font-size:16px;
}
button{
  background:#f5c16c;
  border:none;
  cursor:pointer;
}
.order{
  border:1px solid #333;
  padding:10px;
  margin:10px 0;
}
.accept{
  background:#3cff8f;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="container" id="loginBox">
  <h2>üîê ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô</h2>
  <input type="password" id="password" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô">
  <button onclick="login()">‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</button>
</div>

<!-- ADMIN -->
<div class="container hidden" id="adminBox">
  <h2>üì¶ ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏Ç‡πâ‡∏≤</h2>
  <div id="orders"></div>
</div>

<script>
/* ===== ‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ ===== */
const ADMIN_PASSWORD = "1234";

/* ===== Firebase ===== */
const firebaseConfig = {
  apiKey: "AIzaSyC03JcyEyEg4iWVKMfgcpDR82EUiFOXMd4",
  authDomain: "chivats-black-order.firebaseapp.com",
  projectId: "chivats-black-order"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

/* ===== LOGIN ===== */
function login(){
  const pw = document.getElementById("password").value;
  if(pw !== ADMIN_PASSWORD){
    alert("‚ùå ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
    return;
  }
  document.getElementById("loginBox").classList.add("hidden");
  document.getElementById("adminBox").classList.remove("hidden");
  loadOrders();
}

/* ===== LOAD ORDERS ===== */
function loadOrders(){
  db.collection("orders").orderBy("time","desc")
    .onSnapshot(snapshot=>{
      const box = document.getElementById("orders");
      box.innerHTML = "";
      snapshot.forEach(doc=>{
        const o = doc.data();
        box.innerHTML += `
          <div class="order">
            <b>${o.name}</b> (${o.phone})<br>
            üí∞ ${o.total} ‡∏ö‡∏≤‡∏ó<br>
            <button class="accept" onclick="acceptOrder('${doc.id}')">
              ‡∏£‡∏±‡∏ö‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå
            </button>
          </div>
        `;
      });
    });
}

/* ===== ACCEPT ===== */
function acceptOrder(id){
  alert("‚úÖ ‡∏£‡∏±‡∏ö‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÅ‡∏•‡πâ‡∏ß");
}
</script>

<!-- Firebase CDN -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

</body>
</html>
